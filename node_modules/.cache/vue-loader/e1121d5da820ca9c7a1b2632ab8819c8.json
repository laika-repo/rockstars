{"remainingRequest":"/Users/jeroen/projects/rockstar-tunes/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeroen/projects/rockstar-tunes/src/components/VueFuse.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/jeroen/projects/rockstar-tunes/src/components/VueFuse.vue","mtime":1621671373701},{"path":"/Users/jeroen/projects/rockstar-tunes/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeroen/projects/rockstar-tunes/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/jeroen/projects/rockstar-tunes/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/jeroen/projects/rockstar-tunes/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeroen/projects/rockstar-tunes/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeroen/projects/rockstar-tunes/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIi4uL3NoYXJlZC9fc3R5bGVzLnNjc3MiOwoKaW5wdXQgewogICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGJveC1zaGFkb3c6IG5vbmU7CiAgICBwYWRkaW5nOiA4cHg7Cn0K"},{"version":3,"sources":["VueFuse.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"VueFuse.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <input\n    v-model=\"value\"\n    :placeholder=\"placeholder\"\n    type=\"search\"\n  >\n</template>\n<script>\nimport Fuse from 'fuse.js'\n\nexport default {\n  name: 'VueFuse',\n  props: {\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    search: {\n      type: String,\n      default: '',\n    },\n    defaultAll: {\n      type: Boolean,\n      default: true,\n    },\n    list: {\n      type: Array,\n      default: () => [],\n    },\n    fuseOpts: {\n      type: Object,\n      default: () => {},\n    },\n    mapResults: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data () {\n    return {\n      fuse: null,\n      value: '',\n      result: [],\n    }\n  },\n  emits: ['fuse-input', 'fuse-results'],\n  watch: {\n    list () {\n      if (this.fuse) {\n        this.fuse.setCollection(this.list)\n        this.fuseSearch()\n      }\n    },\n    fuseOpts () {\n      this.fuse.options = this.fuseOpts\n      this.fuseSearch()\n    },\n    search () {\n      this.value = this.search\n    },\n    value () {\n      this.$emit('fuse-input', this.value)\n      this.fuseSearch()\n    },\n    result () {\n      this.$emit('fuse-results', this.result)\n    },\n  },\n  mounted () {\n    this.initFuse()\n  },\n  methods: {\n    defaultAllList (list) {\n      if (this.mapResults) {\n        return list\n      }\n      return list.map((item, refIndex) => {\n        return { item, refIndex }\n      })\n    },\n    initFuse () {\n      this.fuse = new Fuse(this.list, this.fuseOpts)\n      if (this.defaultAll) {\n        this.result = this.defaultAllList(this.list)\n      }\n      if (this.search) {\n        this.value = this.search\n      }\n    },\n    fuseSearch () {\n      if (this.value.trim() === '') {\n        if (this.defaultAll) {\n          this.result = this.defaultAllList(this.list)\n        } else {\n          this.result = []\n        }\n      } else {\n        const r = this.fuse.search(this.value.trim())\n        this.result = this.mapResults ? r.map(r => r.item) : r\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n    @import \"../shared/_styles.scss\";\n\n    input {\n        border: 1px solid black;\n        background-color: white;\n        box-shadow: none;\n        padding: 8px;\n    }\n</style>"]}]}