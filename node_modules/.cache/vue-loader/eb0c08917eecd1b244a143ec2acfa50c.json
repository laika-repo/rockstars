{"remainingRequest":"/Users/jeroen/projects/rockstars/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeroen/projects/rockstars/node_modules/vue-fuse/src/components/VueFuse.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeroen/projects/rockstars/node_modules/vue-fuse/src/components/VueFuse.vue","mtime":499162500000},{"path":"/Users/jeroen/projects/rockstars/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeroen/projects/rockstars/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jeroen/projects/rockstars/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeroen/projects/rockstars/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGdXNlIGZyb20gJ2Z1c2UuanMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Z1ZUZ1c2UnLAogIHByb3BzOiB7CiAgICBwbGFjZWhvbGRlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnLAogICAgfSwKICAgIHNlYXJjaDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnLAogICAgfSwKICAgIGRlZmF1bHRBbGw6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgIH0sCiAgICBsaXN0OiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXSwKICAgIH0sCiAgICBmdXNlT3B0czogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9LAogICAgfSwKICAgIG1hcFJlc3VsdHM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBmdXNlOiBudWxsLAogICAgICB2YWx1ZTogJycsCiAgICAgIHJlc3VsdDogW10sCiAgICB9CiAgfSwKICBlbWl0czogWydmdXNlLWlucHV0JywgJ2Z1c2UtcmVzdWx0cyddLAogIHdhdGNoOiB7CiAgICBsaXN0ICgpIHsKICAgICAgaWYgKHRoaXMuZnVzZSkgewogICAgICAgIHRoaXMuZnVzZS5zZXRDb2xsZWN0aW9uKHRoaXMubGlzdCkKICAgICAgICB0aGlzLmZ1c2VTZWFyY2goKQogICAgICB9CiAgICB9LAogICAgZnVzZU9wdHMgKCkgewogICAgICB0aGlzLmZ1c2Uub3B0aW9ucyA9IHRoaXMuZnVzZU9wdHMKICAgICAgdGhpcy5mdXNlU2VhcmNoKCkKICAgIH0sCiAgICBzZWFyY2ggKCkgewogICAgICB0aGlzLnZhbHVlID0gdGhpcy5zZWFyY2gKICAgIH0sCiAgICB2YWx1ZSAoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Z1c2UtaW5wdXQnLCB0aGlzLnZhbHVlKQogICAgICB0aGlzLmZ1c2VTZWFyY2goKQogICAgfSwKICAgIHJlc3VsdCAoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Z1c2UtcmVzdWx0cycsIHRoaXMucmVzdWx0KQogICAgfSwKICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5pbml0RnVzZSgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWZhdWx0QWxsTGlzdCAobGlzdCkgewogICAgICBpZiAodGhpcy5tYXBSZXN1bHRzKSB7CiAgICAgICAgcmV0dXJuIGxpc3QKICAgICAgfQogICAgICByZXR1cm4gbGlzdC5tYXAoKGl0ZW0sIHJlZkluZGV4KSA9PiB7CiAgICAgICAgcmV0dXJuIHsgaXRlbSwgcmVmSW5kZXggfQogICAgICB9KQogICAgfSwKICAgIGluaXRGdXNlICgpIHsKICAgICAgdGhpcy5mdXNlID0gbmV3IEZ1c2UodGhpcy5saXN0LCB0aGlzLmZ1c2VPcHRzKQogICAgICBpZiAodGhpcy5kZWZhdWx0QWxsKSB7CiAgICAgICAgdGhpcy5yZXN1bHQgPSB0aGlzLmRlZmF1bHRBbGxMaXN0KHRoaXMubGlzdCkKICAgICAgfQogICAgICBpZiAodGhpcy5zZWFyY2gpIHsKICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5zZWFyY2gKICAgICAgfQogICAgfSwKICAgIGZ1c2VTZWFyY2ggKCkgewogICAgICBpZiAodGhpcy52YWx1ZS50cmltKCkgPT09ICcnKSB7CiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdEFsbCkgewogICAgICAgICAgdGhpcy5yZXN1bHQgPSB0aGlzLmRlZmF1bHRBbGxMaXN0KHRoaXMubGlzdCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5yZXN1bHQgPSBbXQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCByID0gdGhpcy5mdXNlLnNlYXJjaCh0aGlzLnZhbHVlLnRyaW0oKSkKICAgICAgICB0aGlzLnJlc3VsdCA9IHRoaXMubWFwUmVzdWx0cyA/IHIubWFwKHIgPT4gci5pdGVtKSA6IHIKICAgICAgfQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["VueFuse.vue"],"names":[],"mappings":";;;;;;;;AAQA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VueFuse.vue","sourceRoot":"node_modules/vue-fuse/src/components","sourcesContent":["<template>\n  <input\n    v-model=\"value\"\n    :placeholder=\"placeholder\"\n    type=\"search\"\n  >\n</template>\n<script>\nimport Fuse from 'fuse.js'\n\nexport default {\n  name: 'VueFuse',\n  props: {\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    search: {\n      type: String,\n      default: '',\n    },\n    defaultAll: {\n      type: Boolean,\n      default: true,\n    },\n    list: {\n      type: Array,\n      default: () => [],\n    },\n    fuseOpts: {\n      type: Object,\n      default: () => {},\n    },\n    mapResults: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data () {\n    return {\n      fuse: null,\n      value: '',\n      result: [],\n    }\n  },\n  emits: ['fuse-input', 'fuse-results'],\n  watch: {\n    list () {\n      if (this.fuse) {\n        this.fuse.setCollection(this.list)\n        this.fuseSearch()\n      }\n    },\n    fuseOpts () {\n      this.fuse.options = this.fuseOpts\n      this.fuseSearch()\n    },\n    search () {\n      this.value = this.search\n    },\n    value () {\n      this.$emit('fuse-input', this.value)\n      this.fuseSearch()\n    },\n    result () {\n      this.$emit('fuse-results', this.result)\n    },\n  },\n  mounted () {\n    this.initFuse()\n  },\n  methods: {\n    defaultAllList (list) {\n      if (this.mapResults) {\n        return list\n      }\n      return list.map((item, refIndex) => {\n        return { item, refIndex }\n      })\n    },\n    initFuse () {\n      this.fuse = new Fuse(this.list, this.fuseOpts)\n      if (this.defaultAll) {\n        this.result = this.defaultAllList(this.list)\n      }\n      if (this.search) {\n        this.value = this.search\n      }\n    },\n    fuseSearch () {\n      if (this.value.trim() === '') {\n        if (this.defaultAll) {\n          this.result = this.defaultAllList(this.list)\n        } else {\n          this.result = []\n        }\n      } else {\n        const r = this.fuse.search(this.value.trim())\n        this.result = this.mapResults ? r.map(r => r.item) : r\n      }\n    },\n  },\n}\n</script>\n"]}]}